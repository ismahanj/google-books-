{"ast":null,"code":"import _objectSpread from \"/Users/abdiazizdude/code/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/abdiazizdude/code/google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/abdiazizdude/code/google-books/client/src/pages/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport { Container } from \"../components/Grid\";\nimport { Col } from \"../components/Grid\";\nimport { Row } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport { Link } from \"react-router-dom\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, FormBtn } from \"../components/Form\";\nimport Button from 'react-bootstrap/Button';\n\nfunction Search() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formObject = _useState4[0],\n      setFormObject = _useState4[1];\n\n  useEffect(function () {\n    displayBooks();\n  }, []); //displaying book to the page \n\n  function displayBooks() {\n    API.displayBooks(\"data\").then(function (res) {\n      console.log(res);\n      setBooks(res.data.items);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  ; //updating states with user input \n\n  function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormObject(_objectSpread(_objectSpread({}, formObject), {}, {\n      [name]: value\n    }));\n  }\n\n  ; //function to save books to db\n\n  function savedBooks(book) {\n    API.savedBooks({\n      _id: book.id,\n      title: book.title,\n      author: book.author,\n      description: book.des,\n      image: book.imageLinks.smallThumbnail,\n      link: book.infoLink\n    }).then(function (res) {\n      return displayBooks();\n    }).catch(function (err) {\n      console.log(err);\n    });\n  } //on click the book will be saved to the db using the savebooks function \n\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    if (formObject.search) {\n      API.searchBooks(formObject.search).then(function (res) {\n        console.log(res.data);\n        setBooks(res.data.items);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        size: \"md-6\",\n        children: [/*#__PURE__*/_jsxDEV(Jumbotron, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Google Books Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search and Save Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            onChange: handleInputChange,\n            name: \"search\",\n            placeholder: \"Search book title ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormBtn, {\n            disabled: !formObject.search,\n            onClick: handleFormSubmit,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        size: \"md-6 sm-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: books.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n            children: books.map(function (book) {\n              return /*#__PURE__*/_jsxDEV(ListItem, {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: book.volumeInfo.imageLinks.smallThumbnail,\n                  alt: book.volumeInfo.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/books/\" + book.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: function onClick() {\n                    return savedBooks(book.volumeInfo);\n                  },\n                  variant: \"outline-success\",\n                  className: \"ml-3\",\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: book.volumeInfo.infoLink,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    children: \" link to book \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 118\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"m-4\",\n                  children: [\"Title: \", book.volumeInfo.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"Author: \", book.volumeInfo.authors]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-3\",\n                  children: [\"Description: \", book.volumeInfo.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, _this)]\n              }, book.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Books Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"ixvVwWj4PRCZGzfXGLuY/Ha5Tu0=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/abdiazizdude/code/google-books/client/src/pages/Search.js"],"names":["React","useState","useEffect","API","Container","Col","Row","Jumbotron","Link","List","ListItem","Input","FormBtn","Button","Search","books","setBooks","formObject","setFormObject","displayBooks","then","res","console","log","data","items","catch","err","handleInputChange","event","target","name","value","savedBooks","book","_id","id","title","author","description","des","image","imageLinks","smallThumbnail","link","infoLink","handleFormSubmit","preventDefault","search","searchBooks","length","map","volumeInfo","authors"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAAQC,SAAR,QAAwB,oBAAxB;AACA,SAAQC,GAAR,QAAkB,oBAAlB;AACA,SAAQC,GAAR,QAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,oBAA/B;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,oBAA/B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,SAASC,MAAT,GAAkB;AAAA;;AAAA;;AAAA,kBACUb,QAAQ,CAAC,EAAD,CADlB;AAAA;AAAA,MACTc,KADS;AAAA,MACFC,QADE;;AAAA,mBAEoBf,QAAQ,CAAC,EAAD,CAF5B;AAAA;AAAA,MAETgB,UAFS;AAAA,MAEGC,aAFH;;AAKhBhB,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,YAAY;AACX,GAFM,EAEJ,EAFI,CAAT,CALgB,CAQlB;;AACG,WAASA,YAAT,GAAuB;AACrBhB,IAAAA,GAAG,CAACgB,YAAJ,CAAiB,MAAjB,EACEC,IADF,CACO,UAAAC,GAAG,EAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAL,MAAAA,QAAQ,CAACK,GAAG,CAACG,IAAJ,CAASC,KAAV,CAAR;AACC,KAJJ,EAMEC,KANF,CAMQ,UAAAC,GAAG,EAAI;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KARF;AASF;;AAAA,GAnBe,CAqBlB;;AACE,WAASC,iBAAT,CAA4BC,KAA5B,EAAmC;AAAA,wBACXA,KAAK,CAACC,MADK;AAAA,QAC1BC,IAD0B,iBAC1BA,IAD0B;AAAA,QACpBC,KADoB,iBACpBA,KADoB;AAEjCd,IAAAA,aAAa,iCAAKD,UAAL;AAAiB,OAACc,IAAD,GAAQC;AAAzB,OAAb;AACD;;AAAA,GAzBe,CA2BlB;;AACE,WAASC,UAAT,CAAqBC,IAArB,EAA2B;AACzB/B,IAAAA,GAAG,CAAC8B,UAAJ,CAAe;AACbE,MAAAA,GAAG,EAAED,IAAI,CAACE,EADG;AAEbC,MAAAA,KAAK,EAAEH,IAAI,CAACG,KAFC;AAGbC,MAAAA,MAAM,EAAEJ,IAAI,CAACI,MAHA;AAIbC,MAAAA,WAAW,EAAEL,IAAI,CAACM,GAJL;AAKbC,MAAAA,KAAK,EAAEP,IAAI,CAACQ,UAAL,CAAgBC,cALV;AAMbC,MAAAA,IAAI,EAAEV,IAAI,CAACW;AANE,KAAf,EAQCzB,IARD,CAQM,UAAAC,GAAG;AAAA,aAAIF,YAAY,EAAhB;AAAA,KART,EASCO,KATD,CASO,UAAAC,GAAG,EAAI;AAACL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AAAiB,KAThC;AAUD,GAvCe,CAyChB;;;AACA,WAASmB,gBAAT,CAA0BjB,KAA1B,EAAgC;AAC9BA,IAAAA,KAAK,CAACkB,cAAN;;AACA,QAAG9B,UAAU,CAAC+B,MAAd,EAAqB;AACnB7C,MAAAA,GAAG,CAAC8C,WAAJ,CAAgBhC,UAAU,CAAC+B,MAA3B,EACC5B,IADD,CACM,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAR,QAAAA,QAAQ,CAACK,GAAG,CAACG,IAAJ,CAASC,KAAV,CAAR;AACD,OAJD,EAKCC,KALD,CAKO,UAAAC,GAAG,EAAI;AAACL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AAAiB,OALhC;AAMD;AACF;;AAAA;AAED,sBAEE,QAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA,2BACE,QAAC,GAAD;AAAA,8BACE,QAAC,GAAD;AAAK,QAAA,IAAI,EAAC,MAAV;AAAA,gCACE,QAAC,SAAD;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAA,kCACE,QAAC,KAAD;AACE,YAAA,QAAQ,EAAEC,iBADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,WAAW,EAAC;AAHd;AAAA;AAAA;AAAA;AAAA,kBADF,eAME,QAAC,OAAD;AACE,YAAA,QAAQ,EAAE,CAAEX,UAAU,CAAC+B,MADzB;AAEE,YAAA,OAAO,EAAEF,gBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAoBE,QAAC,GAAD;AAAK,QAAA,IAAI,EAAC,YAAV;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,GAAD;AAAA,oBACG/B,KAAK,CAACmC,MAAN,GAAc,CAAd,gBACC,QAAC,IAAD;AAAA,sBACGnC,KAAK,CAACoC,GAAN,CAAU,UAAAjB,IAAI;AAAA,kCACb,QAAC,QAAD;AAAA,wCACE;AAAK,kBAAA,GAAG,EAAEA,IAAI,CAACkB,UAAL,CAAgBV,UAAhB,CAA2BC,cAArC;AAAqD,kBAAA,GAAG,EAAET,IAAI,CAACkB,UAAL,CAAgBf;AAA1E;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAE,YAAYH,IAAI,CAACE;AAA3B;AAAA;AAAA;AAAA;AAAA,yBAFF,eAGE,QAAC,MAAD;AAAQ,kBAAA,OAAO,EAAE;AAAA,2BAAMH,UAAU,CAACC,IAAI,CAACkB,UAAN,CAAhB;AAAA,mBAAjB;AAAoD,kBAAA,OAAO,EAAC,iBAA5D;AAA8E,kBAAA,SAAS,EAAC,MAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHF,eAIE;AAAA,0CACE;AAAG,oBAAA,IAAI,EAAElB,IAAI,CAACkB,UAAL,CAAgBP,QAAzB;AAAmC,oBAAA,MAAM,EAAC,QAA1C;AAAmD,oBAAA,GAAG,EAAC,qBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eACiG;AAAA;AAAA;AAAA;AAAA,2BADjG;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJF,eAOE;AAAQ,kBAAA,SAAS,EAAC,KAAlB;AAAA,wCACUX,IAAI,CAACkB,UAAL,CAAgBf,KAD1B;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPF,eAUE;AAAA,yCACWH,IAAI,CAACkB,UAAL,CAAgBC,OAD3B;AAAA;AAAA;AAAA;AAAA;AAAA,yBAVF,eAaE;AAAG,kBAAA,SAAS,EAAC,MAAb;AAAA,8CACgBnB,IAAI,CAACkB,UAAL,CAAgBb,WADhC;AAAA;AAAA;AAAA;AAAA;AAAA,yBAbF;AAAA,iBAAeL,IAAI,CAACE,EAApB;AAAA;AAAA;AAAA;AAAA,uBADa;AAAA,aAAd;AADH;AAAA;AAAA;AAAA;AAAA,kBADD,gBAwBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzBN;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAFF;AAyDD;;GA/GQtB,M;;KAAAA,M;AAiHT,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport {Container} from \"../components/Grid\";\nimport {Col} from \"../components/Grid\";\nimport {Row} from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport { Link } from \"react-router-dom\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, FormBtn } from \"../components/Form\";\nimport Button from 'react-bootstrap/Button'\n\nfunction Search() {\n  const [books, setBooks] = useState(\"\");\n  const [formObject, setFormObject] = useState(\"\");\n  \n\n  useEffect(() => {\n    displayBooks()\n    }, [])\n//displaying book to the page \n   function displayBooks(){\n     API.displayBooks(\"data\")\n      .then(res => {\n        console.log(res)\n        setBooks(res.data.items)\n        })\n        \n      .catch(err => {\n        console.log(err);\n      })\n  }; \n\n//updating states with user input \n  function handleInputChange (event) {\n    const {name, value} = event.target; \n    setFormObject({...formObject, [name]: value })\n  };\n\n//function to save books to db\n  function savedBooks (book) {\n    API.savedBooks({\n      _id: book.id, \n      title: book.title, \n      author: book.author, \n      description: book.des, \n      image: book.imageLinks.smallThumbnail, \n      link: book.infoLink \n    })\n    .then(res => displayBooks())\n    .catch(err => {console.log(err)})\n  }\n\n  //on click the book will be saved to the db using the savebooks function \n  function handleFormSubmit(event){\n    event.preventDefault(); \n    if(formObject.search){\n      API.searchBooks(formObject.search)\n      .then(res => {\n        console.log(res.data)\n        setBooks(res.data.items)\n      })\n      .catch(err => {console.log(err)})\n    }\n  }; \n\n  return (\n\n    <Container fluid >\n      <Row>\n        <Col size=\"md-6\" >\n          <Jumbotron>\n            <h1>Google Books Search</h1>\n            <h3>Search and Save Books</h3>\n          </Jumbotron>\n          <form>\n            <Input\n              onChange={handleInputChange}\n              name=\"search\"\n              placeholder=\"Search book title ...\"\n            />\n            <FormBtn\n              disabled={!(formObject.search)}\n              onClick={handleFormSubmit}\n            >\n              Search\n              </FormBtn>\n          </form>\n        </Col>\n        <Col size=\"md-6 sm-12\">\n          <h1>Results</h1>\n          <Row>\n            {books.length >0 ? (\n              <List>\n                {books.map(book => (\n                  <ListItem key={book.id}>\n                    <img src={book.volumeInfo.imageLinks.smallThumbnail} alt={book.volumeInfo.title} />\n                    <Link to={\"/books/\" + book.id} />\n                    <Button onClick={() => savedBooks(book.volumeInfo)} variant=\"outline-success\" className='ml-3' >Save</Button>\n                    <strong>\n                      <a href={book.volumeInfo.infoLink} target=\"_blank\" rel=\"noopener noreferrer\"> link to book </a><br></br>\n                    </strong>\n                    <strong className=\"m-4\">\n                      Title: {book.volumeInfo.title}\n                    </strong>\n                    <strong>\n                      Author: {book.volumeInfo.authors}\n                    </strong>\n                    <p className=\"mt-3\" >\n                      Description: {book.volumeInfo.description}\n                    </p>\n\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n                <h3>No Books Found</h3>\n              )}\n          </Row>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}